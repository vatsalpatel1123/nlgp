<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM Reactivation Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .dust-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="10" cy="10" r="1" fill="%23c0c0c0" opacity="0.5"/><circle cx="30" cy="40" r="1.2" fill="%23c0c0c0" opacity="0.4"/><circle cx="70" cy="25" r="1.5" fill="%23c0c0c0" opacity="0.3"/><circle cx="45" cy="70" r="0.8" fill="%23c0c0c0" opacity="0.4"/><circle cx="85" cy="65" r="0.5" fill="%23c0c0c0" opacity="0.5"/><circle cx="15" cy="85" r="0.7" fill="%23c0c0c0" opacity="0.3"/><circle cx="60" cy="90" r="1.3" fill="%23c0c0c0" opacity="0.6"/></svg>');
            opacity: 0.7;
            pointer-events: none;
            z-index: 10;
            transition: opacity 2s ease-out;
        }
        
        .contact-card {
            transition: all 0.5s ease;
            position: relative;
        }
        
        .pulse-active {
            animation: pulse 2s infinite;
            box-shadow: 0 0 15px rgba(74, 222, 128, 0.5);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 5px rgba(74, 222, 128, 0.5); }
            50% { box-shadow: 0 0 20px rgba(74, 222, 128, 0.8); }
            100% { box-shadow: 0 0 5px rgba(74, 222, 128, 0.5); }
        }
        
        .conversation-bubble {
            position: absolute;
            top: -50px;
            right: 0;
            width: 200px;
            padding: 10px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            opacity: 0;
            transition: opacity 0.3s, top 0.3s;
            z-index: 20;
        }
        
        .conversation-bubble:after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 20px;
            border-width: 10px 10px 0;
            border-style: solid;
            border-color: white transparent;
        }
        
        .sparkline {
            width: 100%;
            height: 60px;
            background: linear-gradient(to right, #5a697b 1px, transparent 1px);
            background-size: 20px 60px;
            position: relative;
        }
        
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        
        .loading-bar {
            width: 80%;
            height: 4px;
            background: #e5e7eb;
            border-radius: 2px;
            overflow: hidden;
            margin-top: 20px;
        }
        
        .loading-progress {
            height: 100%;
            background: #3b82f6;
            width: 0%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="animate-bounce text-gray-700 text-2xl mb-4 font-bold">Rebuilding Your CRM</div>
        <div class="loading-bar">
            <div id="loadingProgress" class="loading-progress"></div>
        </div>
        <div id="loadingText" class="text-gray-500 mt-2">Initializing AI reactivation sequence...</div>
    </div>

    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <div class="flex justify-between items-center mb-8">
            <div>
                <h1 class="text-3xl font-bold text-gray-800">Customer Reactivation</h1>
                <p class="text-gray-600">AI-powered dormant contact revival</p>
            </div>
            <div id="statsCounter" class="bg-white rounded-lg shadow p-4 text-center hidden">
                <div class="text-3xl font-bold text-green-500" id="reactivatedCount">0</div>
                <div class="text-gray-500 text-sm">leads reactivated</div>
            </div>
        </div>
        
        <!-- Main Dashboard -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden relative">
            <!-- Dust overlay (removed when activated) -->
            <div id="dustOverlay" class="dust-overlay"></div>
            
            <!-- Dashboard Header -->
            <div class="border-b border-gray-200 p-6 flex justify-between items-center">
                <div>
                    <h2 class="text-xl font-semibold text-gray-800">Dormant Contacts</h2>
                    <p class="text-gray-500">Last activity > 6 months</p>
                </div>
                <button id="activateBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                    Activate AI Revival
                </button>
            </div>
            
            <!-- Stats and Chart -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 p-6 border-b border-gray-200">
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-gray-700 font-medium">Total Dormant</h3>
                    <p class="text-2xl font-bold mt-2">1,284</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-gray-700 font-medium">Previously Reactivated</h3>
                    <div class="flex items-end mt-2">
                        <p class="text-2xl font-bold">412</p>
                        <p class="text-green-500 ml-2">(32%)</p>
                    </div>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-gray-700 font-medium">Success Rate</h3>
                    <div class="flex items-end mt-2">
                        <p class="text-2xl font-bold">47%</p>
                        <p class="text-green-500 ml-2">+12% vs last</p>
                    </div>
                </div>
            </div>
            
            <!-- Sparkline Chart -->
            <div class="px-6 pt-2 pb-4">
                <h3 class="text-gray-700 font-medium mb-2">Weekly Reactivations</h3>
                <div class="sparkline" id="sparklineChart"></div>
            </div>
            
            <!-- Contact Grid -->
            <div class="p-6">
                <h3 class="text-gray-700 font-medium mb-4">Contacts Selected for Revival</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" id="contactGrid">
                    <!-- Contact cards will be inserted here by JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Console Log -->
        <div class="bg-gray-800 rounded-xl shadow-lg mt-6 overflow-hidden">
            <div class="bg-gray-900 text-gray-300 px-4 py-2 flex items-center">
                <div class="w-3 h-3 rounded-full bg-red-500 mr-2"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-500 mr-2"></div>
                <div class="w-3 h-3 rounded-full bg-green-500 mr-2"></div>
                <div class="text-sm font-mono ml-2">AI Reactivation Console</div>
            </div>
            <div id="consoleLog" class="font-mono text-sm text-green-400 p-4 h-40 overflow-y-auto">
                <div class="opacity-70">System initialized. Ready for revival sequence.</div>
            </div>
        </div>
    </div>

    <script>
        // Sample contact data
        const contacts = [
            { id: 1, name: 'Sarah Johnson', company: 'Acme Corp', lastContact: 'Oct 2021', avatar: 'https://randomuser.me/api/portraits/women/44.jpg', conversation: "Hi Sarah! We noticed you were interested in our enterprise plan last year..." },
            { id: 2, name: 'Michael Chen', company: 'Globex Inc', lastContact: 'Aug 2021', avatar: 'https://randomuser.me/api/portraits/men/32.jpg', conversation: "Hello Michael! Our AI detected unfinished setup steps..." },
            { id: 3, name: 'David Wilson', company: 'Initech', lastContact: 'Mar 2022', avatar: 'https://randomuser.me/api/portraits/men/65.jpg', conversation: "Hey David, we've made significant improvements to our..." },
            { id: 4, name: 'Emily Rodriguez', company: 'Hooli', lastContact: 'Jan 2022', avatar: 'https://randomuser.me/api/portraits/women/63.jpg', conversation: "Emily, we're offering exclusive discounts for previous..." },
            { id: 5, name: 'Robert Kim', company: 'Vehement', lastContact: 'Nov 2021', avatar: 'https://randomuser.me/api/portraits/men/75.jpg', conversation: "Robert, our new features directly address the challenges..." },
            { id: 6, name: 'Jennifer Lee', company: 'Pied Piper', lastContact: 'Sep 2021', avatar: 'https://randomuser.me/api/portraits/women/82.jpg', conversation: "Hi Jennifer! We've simplified our onboarding process..." },
            { id: 7, name: 'Thomas Park', company: 'Dunder Mifflin', lastContact: 'Feb 2022', avatar: 'https://randomuser.me/api/portraits/men/45.jpg', conversation: "Thomas, your account analysis shows unused capabilities..." },
            { id: 8, name: 'Lisa Wong', company: 'Wayne Ent.', lastContact: 'Jul 2021', avatar: 'https://randomuser.me/api/portraits/women/68.jpg', conversation: "Lisa, we're checking if you're still interested in..." }
        ];

        // Simulate loading
        const loadingScreen = document.getElementById('loadingScreen');
        const loadingProgress = document.getElementById('loadingProgress');
        const loadingText = document.getElementById('loadingText');
        const texts = [
            "Analyzing dormant contacts...",
            "Building AI models for engagement...",
            "Preparing reactivation sequences...",
            "Optimizing outreach timing...",
            "Almost ready..."
        ];

        let progress = 0;
        let loadingInterval = setInterval(() => {
            progress += Math.floor(Math.random() * 10) + 1;
            if (progress >= 100) {
                progress = 100;
                clearInterval(loadingInterval);
                setTimeout(() => {
                    loadingScreen.classList.add('hidden');
                    initializeDashboard();
                }, 500);
            }
            loadingProgress.style.width = `${progress}%`;
            
            // Update loading text at certain intervals
            if (progress == 20 || progress == 40 || progress == 60 || progress == 80) {
                const randomIndex = Math.floor(Math.random() * texts.length);
                loadingText.textContent = texts[randomIndex];
                texts.splice(randomIndex, 1); // Remove used text
            }
        }, 200);

        function initializeDashboard() {
            // Render contact cards
            const contactGrid = document.getElementById('contactGrid');
            contacts.forEach(contact => {
                const card = document.createElement('div');
                card.className = 'contact-card bg-gray-100 rounded-lg p-4 text-center opacity-70';
                card.innerHTML = `
                    <img src="${contact.avatar}" class="w-16 h-16 rounded-full mx-auto mb-3 grayscale">
                    <h4 class="font-medium text-gray-800">${contact.name}</h4>
                    <p class="text-sm text-gray-500">${contact.company}</p>
                    <p class="text-xs text-gray-400 mt-1">Last: ${contact.lastContact}</p>
                    <div class="conversation-bubble text-xs text-gray-600">
                        <div class="font-semibold text-gray-800 mb-1">AI Message</div>
                        ${contact.conversation}
                    </div>
                `;
                card.dataset.id = contact.id;
                contactGrid.appendChild(card);
            });

            // Initialize sparkline chart
            const ctx = document.createElement('canvas');
            ctx.id = 'sparklineCanvas';
            document.getElementById('sparklineChart').appendChild(ctx);
            
            const sparklineData = [5, 10, 7, 15, 22, 18, 25, 32, 28, 30, 27, 35];
            const sparklineCtx = document.getElementById('sparklineCanvas').getContext('2d');
            new Chart(sparklineCtx, {
                type: 'line',
                data: {
                    labels: sparklineData.map((_, i) => i+1),
                    datasets: [{
                        data: sparklineData,
                        borderColor: '#5a697b',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: false,
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: { display: false },
                        y: { display: false }
                    }
                }
            });
        }

        // Activate the system
        document.getElementById('activateBtn').addEventListener('click', function() {
            const dustOverlay = document.getElementById('dustOverlay');
            const contactCards = document.querySelectorAll('.contact-card');
            const statsCounter = document.getElementById('statsCounter');
            const reactivatedCount = document.getElementById('reactivatedCount');
            const consoleLog = document.getElementById('consoleLog');
            
            // Remove dust overlay
            dustOverlay.style.opacity = '0';
            setTimeout(() => dustOverlay.style.display = 'none', 2000);
            
            // Log activation
            logToConsole("Initiating AI reactivation protocol...");
            logToConsole("Scanning 1,284 dormant contacts for revival opportunities...");
            
            // Activate each contact card with delay
            let counter = 0;
            contactCards.forEach((card, index) => {
                setTimeout(() => {
                    // Remove grayscale from avatar
                    card.querySelector('img').classList.remove('grayscale');
                    
                    // Show conversation bubble
                    const bubble = card.querySelector('.conversation-bubble');
                    
                    // Activate card
                    card.classList.remove('opacity-70');
                    card.classList.add('bg-white', 'shadow-sm', 'pulse-active');
                    
                    // Show conversation
                    setTimeout(() => {
                        bubble.style.opacity = '1';
                        bubble.style.top = '-80px';
                        
                        // Hide conversation after delay
                        setTimeout(() => {
                            bubble.style.opacity = '0';
                            bubble.style.top = '-50px';
                        }, 3000 + Math.random() * 2000);
                    }, 500);
                    
                    // Update counter
                    counter++;
                    reactivatedCount.textContent = counter;
                    
                    // Show stats counter after first activation
                    if (index === 0) statsCounter.classList.remove('hidden');
                    
                    // Log activation
                    logToConsole(`Revived contact: ${contacts[index].name}`);
                    
                    // Simulate some contacts needing follow up
                    if (Math.random() > 0.7) {
                        setTimeout(() => {
                            logToConsole(`Follow-up scheduled with ${contacts[index].name}`);
                        }, 2000 + Math.random() * 3000);
                    }
                }, index * 600 + Math.random() * 400);
                
                // Every few contacts, log a summary
                if (index % 2 === 0 && index > 0) {
                    setTimeout(() => {
                        logToConsole(`Processed ${index+1} contacts, ${Math.floor((index+1)/contacts.length * 100)}% complete`);
                    }, index * 600);
                }
            });
            
            // Final report after all contacts processed
            setTimeout(() => {
                logToConsole("Reactivation sequence complete");
                logToConsole(`Successfully revived ${contactCards.length} contacts`);
                logToConsole("AI analyzing engagement patterns for follow-up...");
            }, contactCards.length * 600 + 2000);
        });

        function logToConsole(message) {
            const consoleLog = document.getElementById('consoleLog');
            const entry = document.createElement('div');
            entry.textContent = '> ' + message;
            consoleLog.appendChild(entry);
            consoleLog.scrollTop = consoleLog.scrollHeight;
            
            // Fade out older entries
            if (consoleLog.children.length > 30) {
                consoleLog.removeChild(consoleLog.children[0]);
            }
        }
    </script>
</body>
</html>